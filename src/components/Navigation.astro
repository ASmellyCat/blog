---
const base = import.meta.env.BASE_URL;

const categories = [
  { name: 'Sparks', href: `${base}sparks` },
  { name: 'Murmurs', href: `${base}murmurs` },
  { name: 'Footnotes', href: `${base}footnotes` },
  { name: 'Midnight Screenings', href: `${base}midnight-screenings` },
];
---

<header class="sticky top-0 z-50 backdrop-blur-md bg-[var(--color-bg)]/80 border-b border-[var(--color-border)]">
  <nav class="max-w-2xl mx-auto px-6 py-4 flex items-center justify-between">
    <a href={base} class="text-lg font-semibold tracking-tight hover:text-white transition-colors">
      blog
    </a>
    <button
      id="menu-toggle"
      class="md:hidden p-2 -mr-2 text-[var(--color-text-muted)] hover:text-white"
      aria-label="Toggle menu"
    >
      <svg width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="1.5">
        <line x1="3" y1="6" x2="17" y2="6" />
        <line x1="3" y1="10" x2="17" y2="10" />
        <line x1="3" y1="14" x2="17" y2="14" />
      </svg>
    </button>
    <div id="nav-links" class="hidden md:flex items-center gap-6">
      {categories.map((cat) => (
        <a
          href={cat.href}
          class="text-sm text-[var(--color-text-muted)] hover:text-white transition-colors"
        >
          {cat.name}
        </a>
      ))}
      <a
        href={`${base}about`}
        class="text-sm text-[var(--color-text-muted)] hover:text-white transition-colors"
      >
        About
      </a>
    </div>
  </nav>
  <div id="mobile-menu" class="hidden md:hidden border-t border-[var(--color-border)]">
    <div class="max-w-2xl mx-auto px-6 py-4 flex flex-col gap-4">
      {categories.map((cat) => (
        <a
          href={cat.href}
          class="text-sm text-[var(--color-text-muted)] hover:text-white transition-colors"
        >
          {cat.name}
        </a>
      ))}
      <a
        href={`${base}about`}
        class="text-sm text-[var(--color-text-muted)] hover:text-white transition-colors"
      >
        About
      </a>
    </div>
  </div>
</header>

<script>
  const toggle = document.getElementById('menu-toggle');
  const menu = document.getElementById('mobile-menu');
  toggle?.addEventListener('click', () => {
    menu?.classList.toggle('hidden');
  });
</script>
