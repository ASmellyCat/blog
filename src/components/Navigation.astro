---
const base = import.meta.env.BASE_URL;

const categories = [
  { cn: '故事', en: 'Stories', href: `${base}stories` },
  { cn: '心情', en: 'Feelings', href: `${base}feelings` },
  { cn: '随笔', en: 'Essays', href: `${base}essays` },
  { cn: '梦境', en: 'Dreams', href: `${base}dreams` },
];
---

<header class="border-b border-[var(--color-border)]">
  <nav class="max-w-5xl mx-auto px-6 py-5 flex items-center justify-between">
    <a href={base} class="font-serif text-xl font-semibold tracking-tight hover:text-[var(--color-accent)] transition-colors">
      blog
    </a>
    <button
      id="menu-toggle"
      class="md:hidden p-2 -mr-2 text-[var(--color-text-muted)] hover:text-[var(--color-accent)]"
      aria-label="Toggle menu"
    >
      <svg width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="1.5">
        <line x1="3" y1="6" x2="17" y2="6" />
        <line x1="3" y1="10" x2="17" y2="10" />
        <line x1="3" y1="14" x2="17" y2="14" />
      </svg>
    </button>
    <div id="nav-links" class="hidden md:flex items-center gap-8">
      {categories.map((cat) => (
        <a
          href={cat.href}
          class="text-sm text-[var(--color-text-muted)] hover:text-[var(--color-accent)] transition-colors tracking-wide"
        >
          <span>{cat.cn}</span>
          <span class="mx-1 text-[var(--color-border)]">/</span>
          <span>{cat.en}</span>
        </a>
      ))}
    </div>
  </nav>
  <div id="mobile-menu" class="hidden md:hidden border-t border-[var(--color-border)]">
    <div class="max-w-5xl mx-auto px-6 py-4 flex flex-col gap-4">
      {categories.map((cat) => (
        <a
          href={cat.href}
          class="text-sm text-[var(--color-text-muted)] hover:text-[var(--color-accent)] transition-colors"
        >
          {cat.cn} / {cat.en}
        </a>
      ))}
    </div>
  </div>
</header>

<script>
  const toggle = document.getElementById('menu-toggle');
  const menu = document.getElementById('mobile-menu');
  toggle?.addEventListener('click', () => {
    menu?.classList.toggle('hidden');
  });
</script>
